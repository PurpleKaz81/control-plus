<div class="btn-finance">
<%= link_to "Ver Saídas", outflow_finances_path, class: "btn btn2 col-2 mt-4" %>
</div>

<div class="container">
  <h1 class="text-center">Suas Finanças</h1>
  <h2><strong>Entradas</strong></h2>
  <table class="table table-striped table-hover">
    <thead class="thead">
      <tr>
        <th scope="col"></th>
        <th scope="col">Data</th>
        <th scope="col">Descrição</th>
        <th scope="col" class="w-8rem text-center">Valor</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <% @inflows.each_with_index do |inflow, index| %>
        <tr>
          <th scope="row"><%= index + 1 %></th>
          <td><%= inflow.date.strftime "%d/%m/%y" %></td>
          <td><%= inflow.description %></td>
          <td class="w-8rem d-flex justify-content-between"><span class="me-2">R$</span><span><%= number_to_currency(inflow.value, unit: "", separator: ",", delimiter: ".") %></span></td>
          <td class="text-end"><%= link_to edit_finance_path(inflow), class: "text-decoration-none mx-2" do %>
              <i class="fas fa-edit" id="logo-edit"></i>
            <% end %>
          <%= link_to finances_path(inflow), class: "text-danger mx-2", data: {turbo_method: :delete, turbo_confirm: "Você quer mesmo deletar?"} do %>
              <i class="fas fa-trash-alt" id="logo-trash"></i>
            <% end %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="totals mb-2">
    <p>Total de Entradas</p>
    <div class="row col-4">
      <div class="card-body-1">
        <p>R$ <%= number_to_currency(@inflow_sum, unit: "", separator: ",", delimiter: ".") %></p>
      </div>
    </div>

    <p class="mt-3 mb-2">Seu Total</p>
    <div class="row col-4 mt-2">
      <div class="card-body-1">
        <p>R$ <%= number_to_currency(@total, unit: "", separator: ",", delimiter: ".") %></p>
      </div>
    </div>

    <%= link_to "Nova Entrada", new_finance_path, class: "btn btn1 col-2 mt-3" %>
  </div>
</div>
